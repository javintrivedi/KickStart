<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop | KickStart</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="navbar.css">
    
    <script src="https://cdn.botpress.cloud/webchat/v3.0/inject.js" defer></script>
<script src="https://files.bpcontent.cloud/2025/06/11/06/20250611064508-5PKN4QR6.js" defer></script>
    <script src="https://cdn.botpress.cloud/webchat/v3.0/bundle.js" defer></script>
    <script>
        window.botpressWebChat.init({
            host: 'https://cdn.botpress.cloud/webchat/v3.0',
            botId: 'kickstart',
            messagingUrl: 'https://files.bpcontent.cloud/2025/06/11/06/20250611064508-5PKN4QR6.js',
            enableReset: true,
            enableTranscriptDownload: true,
            enableFeedback: true,
            enableTypingIndicator: true,
            showPoweredBy: false
        }); 
        </script>
    <link rel="stylesheet" href="/assets/css/botpress-custom-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            background: #f8f9fb;
            margin: 0;
            padding: 0;
        }
        .shop-hero {
            padding-top: 10rem;
            padding-bottom: 3rem;
            background: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-bottom: 1px solid #ececec;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
            box-sizing: border-box;
        }
        .shop-title {
            font-size: 2.7rem;
            font-weight: 900;
            color: #181818;
            margin-bottom: 0.75rem;
            letter-spacing: 1.5px;
            text-align: center;
            max-width: 90%;
        }
        .shop-description {
            font-size: 1.18rem;
            color: #444;
            margin-bottom: 1.8rem;
            text-align: center;
            max-width: 600px;
        }
        .shop-actions {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.8rem;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90%;
        }
        .shop-actions .cta-btn {
            background: #181818;
            color: #fff;
            padding: 0.75rem 2.2rem;
            border-radius: 2rem;
            font-weight: 700;
            font-size: 1.1rem;
            border: none;
            transition: background 0.2s, transform 0.2s;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        .shop-actions .cta-btn.alt {
            background: #ff6600;
        }
        .shop-actions .cta-btn:hover, .shop-actions .cta-btn:focus {
            background: #ff6600;
            color: #fff;
            transform: scale(1.08);
        }
        .shop-section {
            margin: 3rem auto 2rem auto;
            max-width: 1200px;
            padding: 0 2rem;
            box-sizing: border-box;
        }
        .shop-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2.5rem;
        }
        .product-card {
            background: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            padding: 2.2rem 1.8rem 1.8rem 1.8rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: box-shadow 0.3s, transform 0.3s;
            position: relative;
            min-height: 440px;
            max-height: 480px;
        }
        .product-card:hover, .product-card:focus-within {
            box-shadow: 0 12px 36px rgba(0,0,0,0.15);
            transform: translateY(-6px) scale(1.05);
        }
        .product-img {
            width: 130px;
            height: 130px;
            object-fit: contain;
            margin-bottom: 1.5rem;
            border-radius: 0.8rem;
            background: #f7f7f7;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .product-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0.6rem 0 0.3rem 0;
            color: #111;
            text-align: center;
            min-height: 3.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .product-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            margin-top: auto;
            gap: 0.6rem;
        }
        .product-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #000;
        }
        .add-cart-btn {
            background: #181818;
            color: #fff;
            border: none;
            border-radius: 2rem;
            padding: 0.6rem 1.4rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 1.05rem;
            transition: background 0.3s, transform 0.3s;
            cursor: pointer;
            text-decoration: none;
        }
        .add-cart-btn:hover, .add-cart-btn:focus {
            background: #ff6600;
            color: #fff;
            transform: scale(1.1);
            outline: none;
        }
        .product-card .product-actions {
            margin-top: 1.4rem;
            width: 100%;
            display: flex;
            justify-content: space-between;
            gap: 0.9rem;
        }
        .product-card .product-actions .view-btn {
            background: #fff;
            color: #181818;
            border: 1.5px solid #ececec;
            border-radius: 2rem;
            padding: 0.5rem 1.3rem;
            font-size: 1rem;
            font-weight: 600;
            transition: background 0.3s, color 0.3s;
            cursor: pointer;
        }
        .product-card .product-actions .view-btn:hover {
            background: #ff6600;
            color: #fff;
            border: 1.5px solid #ff6600;
        }
        .shop-filters {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
    <style>
        /* Custom modal styles */
        .custom-modal {
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease forwards;
            /* Added to ensure perfect centering */
            text-align: center;
        }
        .custom-modal-content {
            background-color: #1e1e1e;
            color: #f0f0f0;
            padding: 2rem 3rem;
            border-radius: 1rem;
            box-shadow: 0 12px 36px rgba(0,0,0,0.8);
            max-width: 400px;
            width: 90%;
            text-align: center;
            font-size: 1.4rem;
            font-weight: 700;
            position: relative;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            user-select: none;
        }
        .custom-close-btn {
            position: absolute;
            top: 0.3rem;
            right: 1rem;
            color: #ff6600;
            font-size: 2.4rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
            user-select: none;
        }
        .custom-close-btn:hover {
            color: #ffa64d;
        }
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
    </style>
</head>
<body>
    <nav class="hero-nav" role="navigation" aria-label="Primary navigation">
        <div class="logo" aria-label="KickStart logo">KickStart</div>
        <ul id="nav-menu">
            <li><a href="index.html" aria-current="page"><i class="fas fa-home"></i><span class="nav-text">Home</span></a></li>
            <li><a href="shop.html"><i class="fas fa-store"></i><span class="nav-text">Shop</span></a></li>
            <li><a href="collections.html"><i class="fas fa-th-large"></i><span class="nav-text">Collections</span></a></li>
            <li><a href="ai-analyzer.html"><i class="fas fa-shoe-prints"></i><span class="nav-text">AI Analyzer</span></a></li>
            <li><a href="about.html"><i class="fas fa-info-circle"></i><span class="nav-text">About</span></a></li>
            <li><a href="cart.html"><i class="fas fa-shopping-cart"></i><span class="nav-text">Cart</span> <span id="cart-count" style="background:#ff6600; color:#fff; border-radius:50%; padding:0 7px; font-size:0.8rem; font-weight:bold; vertical-align:top; margin-left:4px;">0</span></a></li>
        </ul>
    </nav>
    <main>
        <section class="shop-hero">
            <h1 class="shop-title">Shop the Latest Sneakers</h1>
            <p class="shop-description">Discover trending, premium, and eco-friendly sneakers from top brands. Minimal, elegant, and made for you.</p>
            <div class="shop-actions">
                <button class="cta-btn" onclick="sortProducts('price')"><i class="fas fa-sort-amount-up"></i> Sort by Price</button>
                <button class="cta-btn alt" onclick="sortProducts('brand')"><i class="fas fa-tags"></i> Sort by Brand</button>
                <button class="cta-btn" onclick="filterEco();showEcoDefinition()"><i class="fas fa-leaf"></i> Eco-Friendly</button>
            </div>
            <div class="shop-filters">
                <input type="text" id="searchInput" placeholder="Search sneakers..." oninput="searchProducts()">
                <select id="brandFilter" onchange="filterByBrand()">
                    <option value="">All Brands</option>
                    <option value="Nike">Nike</option>
                    <option value="Adidas">Adidas</option>
                    <option value="Puma">Puma</option>
                    <option value="Converse">Converse</option>
                    <option value="New Balance">New Balance</option>
                    <option value="ASICS">ASICS</option>
                    <option value="Reebok">Reebok</option>
                    <option value="Vans">Vans</option>
                    <option value="Skechers">Skechers</option>
                    <option value="Comet">Comet</option>
                </select>
            </div>
            <div id="ecoDefinition" style="display:none; background:#eafbe7; color:#205c2c; border-radius:1rem; padding:1.1rem 1.5rem; margin:1.2rem auto 0 auto; max-width:600px; font-size:1.08rem; text-align:center; box-shadow:0 2px 8px rgba(32,92,44,0.06);">
                <strong>What are Eco-Friendly Sneakers?</strong><br>
                Eco-friendly sneakers are made using sustainable materials, ethical manufacturing, and processes that reduce environmental impact. Choosing these helps support a cleaner, greener planet.
            </div>
        </section>
        <section class="shop-section">
            <div class="shop-grid" id="productGrid">
                <!-- Product cards wil be rendered here by JS -->
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 KickStart. All rights reserved.</p>
    </footer>
    <script>
    // Product data
    const products = [
        {
            name: "Air Jordan 1 Low OG",
            price: 12795,
            img: "https://static.nike.com/a/images/t_PDP_864_v1,f_auto,q_auto:eco/u_126ab356-44d8-4a06-89b4-fcdcc8df0245,c_scale,fl_relative,w_1.0,h_1.0,fl_layer_apply/183930d6-ec63-471a-8413-b094dae0e330/air-jordan-1-low-og-shoes-29tsx7.png",
            brand: "Nike",
            eco: false,
            link: "https://www.nike.com/in/t/air-jordan-1-low-og-shoes-29tsx7/CZ0790-107",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg"
        },
        {
            name: "Samba OG Shoes",
            price: 10999,
            img: "https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/07567ea7d2bb425b8651a8bf0117e4f1_9366/Samba_OG_Shoes_White_B75806_06_standard.jpg",
            brand: "Adidas",
            eco: true,
            link: "https://www.adidas.co.in/samba-og-shoes/B75806.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg"
        },
        {
            name: "Scuderia Ferrari Neo Cat 2.0 Driving Shoes",
            price: 4549,
            img: "https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_500,h_500/global/308062/04/sv01/fnd/IND/fmt/png/Scuderia-Ferrari-Neo-Cat-2.0-Driving-Shoes",
            brand: "Puma",
            eco: false,
            link: "https://in.puma.com/in/en/pd/scuderia-ferrari-neo-cat-2-0-driving-shoes/308062?swatch=04",
            brandLogo: "https://upload.wikimedia.org/wikipedia/en/thumb/d/da/Puma_complete_logo.svg/375px-Puma_complete_logo.svg.png"
        },
        {
            name: "Chuck Taylor All Star Wide",
            price: 4799,
            img: "https://www.converse.in/media/catalog/product/1/6/167491c_1.jpg?optimize=medium&bg-color=255%2C255%2C255&fit=cover&height=900&width=900&format=webp",
            brand: "Converse",
            eco: true,
            link: "https://www.converse.in/convere-chuck-taylor-all-star-wide-167491c-black.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Converse_logo.svg/330px-Converse_logo.svg.png"
        },
        {
            name: "Nike Vomero 18",
            price: 13295,
            img: "https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/1d44513a-3a70-4ffd-a0a0-491f8db786bf/W+NIKE+VOMERO+18.png",
            brand: "Nike",
            eco: false,
            link: "https://www.nike.com/in/t/vomero-18-road-running-shoes-Vn57Nq/HM6804-102",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg"
        },
        {
            name: "Adidas Ultraboost 1.0",
            price: 8999.50,
            img: "https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/a3996cc46d9c44ad92ec9ded7271c100_9366/ULTRABOOST_1.0_SHOES_White_JH9212_HM1.jpg",
            brand: "Adidas",
            eco: true,
            link: "https://www.adidas.co.in/ultraboost-1.0-shoes/JH9212.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg"
        },
        {
            name: "Porsche Legacy RS-X Sneakers",
            price: 5639,
            img: "https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_750,h_750/global/307835/03/sv01/fnd/IND/fmt/png/Porsche-Legacy-RS-X-Sneakers",
            brand: "Puma",
            eco: false,
            link: "https://in.puma.com/in/en/pd/porsche-legacy-rs-x-sneakers/307835?swatch=03",
            brandLogo: "https://upload.wikimedia.org/wikipedia/en/thumb/d/da/Puma_complete_logo.svg/375px-Puma_complete_logo.svg.png"
        },
        {
            name: "Run Star Hike Animalier",
            price: 4199,
            img: "https://www.converse.in/media/catalog/product/a/0/a03729c_01_1.jpg?optimize=medium&bg-color=255%2C255%2C255&fit=cover&height=900&width=900&format=webp",
            brand: "Converse",
            eco: false,
            link: "https://www.converse.in/run-star-hike-animalier-a03729c-beige.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Converse_logo.svg/330px-Converse_logo.svg.png"
        },
        {
            name: "Nike P-6000",
            price: 7995,
            img: "https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/c0bef76c-db55-40d4-a8e4-996c31f13f65/NIKE+P-6000.png",
            brand: "Nike",
            eco: false,
            link: "https://www.nike.com/in/t/p-6000-shoes-QcQbpx/CD6404-107",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg"
        },
        {
            name: "Adidas Stan Smith",
            price: 4499,
            img: "https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/68ae7ea7849b43eca70aac1e00f5146d_9366/Stan_Smith_Shoes_White_FX5502_01_standard.jpg",
            brand: "Adidas",
            eco: true,
            link: "https://www.adidas.co.in/stan-smith-shoes/FX5502.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg"
        },
        {
            name: "Future Rider Play On Sneakers",
            price: 4049,
            img: "https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_750,h_750/global/371149/25/sv01/fnd/IND/fmt/png/Future-Rider-Play-On-Sneakers",
            brand: "Puma",
            eco: false,
            link: "https://in.puma.com/in/en/pd/future-rider-play-on-unisex-sneakers/371149?swatch=25",
            brandLogo: "https://upload.wikimedia.org/wikipedia/en/thumb/d/da/Puma_complete_logo.svg/375px-Puma_complete_logo.svg.png"
        },
        {
            name: "Chuck 70 Garden Noir",
            price: 4199,
            img: "https://www.converse.in/media/catalog/product/a/0/a04624c-1.jpg?optimize=medium&bg-color=255%2C255%2C255&fit=cover&height=900&width=900&format=webp",
            brand: "Converse",
            eco: true,
            link: "http://converse.in/chuck-70-garden-noir-a04624c-blue.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Converse_logo.svg/330px-Converse_logo.svg.png"
        },
        {
            name: "New Balance 530",
            price: 8659,
            img: "https://nb.scene7.com/is/image/NB/mr530sg_nb_02_i?$pdpflexf22x$&qlt=80&fmt=webp&wid=880&hei=880",
            brand: "New Balance",
            eco: false,
            link: "https://www.newbalance.com/pd/530/MR530-32265-PMG-NA.html?dwvar_MR530-32265-PMG-NA_style=MR530SG",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/New_Balance_logo.svg/450px-New_Balance_logo.svg.png"
        },
        {
            name: "ASICS GEL-EXCITE 10",
            price: 10999,
            img: "https://www.asics.co.in/media/catalog/product/1/0/1011c008002_1.jpg?auto=webp&format=pjpg&width=160&height=200&fit=cover",
            brand: "ASICS",
            eco: false,
            link: "https://www.asics.co.in/1011c008-002-gel-excite-10.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Asics_Logo.svg/1920px-Asics_Logo.svg.png"
        },
        {
            name: "Reebok Club C 85 Vintage Shoes",
            price: 7795,
            img: "https://cdn.shopify.com/s/files/1/0862/7834/0912/files/100000317_SLC_eCom-tif.png?v=1736438191",
            brand: "Reebok",
            eco: true,
            link: "https://www.reebok.com/products/reebok-club-c-85-vintage-shoes-chalk-paperwhite-glen-green-103162",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Reebok_delta_logo.svg/750px-Reebok_delta_logo.svg.png"
        },
        {
            name: "Vans Old Skool",
            price: 8750,
            img: "https://assets.vans.eu/images/t_img/c_fill,g_center,f_auto,h_815,w_652,e_unsharp_mask:100/dpr_2.0/v1741605993/VN000D6WYY6-HERO/Old-Skool-Shoes.jpg",
            brand: "Vans",
            eco: false,
            link: "https://www.vans.com/en-gb/p/old-skool-shoes-VN000D6WYY6",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Vans_company_logo.svg/768px-Vans_company_logo.svg.png?20190325000411"
        },
        {
            name: "Skechers SKX RESAGRIP- Basketball",
            price: 14399,
            img: "https://www.skechers.in/on/demandware.static/-/Sites-skechers_india/default/dw55e1de34/images/large/197976666894-1.jpg",
            brand: "Skechers",
            eco: true,
            link: "https://www.skechers.in/skx-resagrip--basketball/253007-BKGD.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Skechers.svg/668px-Skechers.svg.png"
        },
        {
            name: "Comet X Lows CORTADO",
            price: 4299,
            img: "https://www.wearcomet.com/cdn/shop/t/85/assets/cream-canvas_280x.png?v=70150149848413386391747827344",
            brand: "Comet",
            eco: true,
            link: "https://www.wearcomet.com/products/x-lows-cortado?variant=50916838342963&country=IN&currency=INR&utm_medium=product_sync&utm_source=google&utm_content=sag_organic&utm_campaign=sag_organic&tw_source=google&tw_adid=&tw_campaign=21665743115&tw_kwdid=&gad_source=1&gad_campaignid=21669404383&gbraid=0AAAAAp7wtpURgVWDopTbk_yJ1rwg4-AQe&gclid=Cj0KCQjwjdTCBhCLARIsAEu8bpJ8uJNT1y3TxehV-SPkEVRLFRIxgXgR5m7NUEzrZ0EU96Kfx4-zn2caAlCREALw_wcB",
            brandLogo: "https://cdn.brandfetch.io/idzESRSZzL/w/304/h/64/theme/dark/logo.png?c=1dxbfHSJFAPEGdCLU4o5B"
        },
        {
            name: "Nike Air Force 1",
            price: 7495,
            img: "https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/33533fe2-1157-4001-896e-1803b30659c8/AIR+FORCE+1+%2707.png",
            brand: "Nike",
            eco: false,
            link: "https://www.nike.com/in/t/air-force-1-07-shoes-WrLlWX/CW2288-111",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Logo_NIKE.svg"
        },
        {
            name: "Adidas Ultraboost 1.0 Shoes",
            price: 7795,
            img: "https://assets.adidas.com/images/h_840,f_auto,q_auto,fl_lossy,c_fill,g_auto/d864e76161654c6daab10a06cbdb9ffe_9366/Ultraboost_1.0_Shoes_Black_JR3369_HM1.jpg",
            brand: "Adidas",
            eco: true,
            link: "https://www.adidas.com/us/ultraboost-1.0-shoes/JR3369.html",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/2/20/Adidas_Logo.svg"
        },
        {
            name: "New Balance 574",
            price: 7795,
            img: "https://nb.scene7.com/is/image/NB/ml574evw_nb_02_i?$pdpflexf22x$&qlt=80&fmt=webp&wid=880&hei=880",
            brand: "New Balance",
            eco: true,
            link: "https://www.newbalance.com/pd/574-core/ML574V3-40377.html?dwvar_ML574V3-40377_style=ML574EVW",
            brandLogo: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/New_Balance_logo.svg/450px-New_Balance_logo.svg.png"
        }
    ];

    let filteredProducts = [...products];

    function renderProducts(list = filteredProducts) {
        const grid = document.getElementById('productGrid');
        if (!list.length) {
            grid.innerHTML = `<div style="grid-column: 1/-1; text-align:center; color:#888; font-size:1.2rem;">No sneakers found.</div>`;
            return;
        }
        grid.innerHTML = list.map(product => `
            <div class="product-card">
                <a class="brand-link" href="${product.link}" target="_blank" title="${product.brand}">
                    <img class="brand-logo" src="${product.brandLogo}" alt="${product.brand} logo">
                </a>
                <img class="product-img" src="${product.img}" alt="${product.name}">
                <div class="product-title">${product.name}</div>
                <div class="product-meta">
                    <span class="product-price">₹${product.price}</span>
                    ${product.eco ? '<span title="Eco-Friendly" style="color:#2ecc40;"><i class="fas fa-leaf"></i></span>' : ''}
                </div>
                <div class="product-actions">
                    <a class="view-btn" href="${product.link}" target="_blank">View</a>
                    <button class="add-cart-btn" onclick="addToCart('${product.name}')"><i class="fas fa-cart-plus"></i> Add</button>
                </div>
            </div>
        `).join('');
    }

    function addToCart(name) {
        console.log("addToCart called with:", name);
        const product = products.find(p => p.name === name);
        if (!product) {
            console.error("Product not found:", name);
            return;
        }
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const existing = cart.find(item => item.name === name);
        if (existing) {
            existing.qty += 1;
        } else {
            cart.push({
                name: product.name,
                price: product.price,
                img: product.img,
                brand: product.brand,
                qty: 1
            });
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        showMessage(product.name + " added to cart!");
    }

    function sortProducts(type) {
        if (type === 'price') filteredProducts.sort((a, b) => a.price - b.price);
        if (type === 'brand') filteredProducts.sort((a, b) => a.brand.localeCompare(b.brand));
        renderProducts();
    }

    function filterEco() {
        filteredProducts = products.filter(p => p.eco);
        renderProducts();
    }

    function showEcoDefinition() {
        document.getElementById('ecoDefinition').style.display = 'block';
    }

    // Modal HTML for custom alert
    const modalHTML = `
    <div id="customAlertModal" class="custom-modal" style="display:none;">
        <div class="custom-modal-content">
            <span class="custom-close-btn" id="customAlertClose">&times;</span>
            <p id="customAlertMessage"></p>
        </div>
    </div>
    `;

    // Append modal HTML to body and setup modal functionality
    document.addEventListener('DOMContentLoaded', () => {
        document.body.insertAdjacentHTML('beforeend', modalHTML);

        const modal = document.getElementById('customAlertModal');
        const closeBtn = document.getElementById('customAlertClose');
        const messagePara = document.getElementById('customAlertMessage');

        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Expose showMessage globally
        window.showMessage = function(message) {
            messagePara.textContent = message;
            modal.style.display = 'flex';
        };
    });

function openVisualSearch() {
        document.getElementById('customAlertModal').style.display = 'flex';
    }

    function searchProducts() {
        const val = document.getElementById('searchInput').value.toLowerCase();
        filteredProducts = products.filter(p => p.name.toLowerCase().includes(val));
        // Also apply brand filter if selected
        const brand = document.getElementById('brandFilter').value;
        if (brand) filteredProducts = filteredProducts.filter(p => p.brand === brand);
        renderProducts();
    }

    function filterByBrand() {
        const brand = document.getElementById('brandFilter').value;
        filteredProducts = products.filter(p => !brand || p.brand === brand);
        // Also apply search filter if text entered
        const val = document.getElementById('searchInput').value.toLowerCase();
        if (val) filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(val));
        renderProducts();
    }

    function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let count = cart.reduce((sum, item) => sum + (item.qty || 1), 0);
        const badge = document.getElementById('cart-count');
        if (badge) {
            badge.textContent = count;
            console.log("Cart count updated to:", count);
        }
    }

    // Navbar shrink effect
    document.addEventListener('DOMContentLoaded', function() {
        filteredProducts = [...products];
        renderProducts();
        updateCartCount();
        const nav = document.querySelector('.hero-nav');
        const shrinkOn = 60;
        window.addEventListener('scroll', function() {
            if(window.scrollY > shrinkOn) {
                nav.classList.add('shrunk');
            } else {
                nav.classList.remove('shrunk');
            }
        });
    });
    </script>
</body>
</html>