<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart | KickStart</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            background: #f6f7fb;
            margin: 0;
            padding: 0;
            margin-top: 6rem;
        }
        .hero {
            padding-top: 5.5rem;
        }
        .cart-main-container {
            display: flex;
            gap: 2.5rem;
            max-width: 1200px;
            margin: 6rem auto 2.5rem auto;
            align-items: flex-start;
        }
        .cart-section {
            flex: 2;
            background: #fff;
            border-radius: 1.2rem;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            padding: 2.5rem 2rem 2rem 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .cart-title {
            font-size: 2.1rem;
            font-weight: 900;
            color: #181818;
            margin: 0 0 2.2rem 0;
            text-align: left;
            letter-spacing: 1.5px;
        }
        .cart-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 1.2rem;
            background: none;
        }
        .cart-table th, .cart-table td {
            background: #fff;
            padding: 1.1rem 0.7rem;
            border: none;
            text-align: left;
            font-size: 1.08rem;
        }
        .cart-table th {
            color: #888;
            font-weight: 700;
            font-size: 1.02rem;
            background: #f6f7fb;
            border-radius: 0.7rem 0.7rem 0 0;
        }
        .cart-table td {
            vertical-align: middle;
            border-radius: 0.7rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
        }
        .cart-img {
            width: 64px;
            height: 64px;
            object-fit: contain;
            border-radius: 0.7rem;
            background: #f7f7f7;
            margin-right: 0.7rem;
        }
        .cart-product-info {
            display: flex;
            align-items: center;
            gap: 1.2rem;
        }
        .cart-product-name {
            font-weight: 700;
            color: #222;
            font-size: 1.1rem;
        }
        .cart-product-brand {
            color: #888;
            font-size: 0.98rem;
            margin-top: 0.2rem;
        }
        .cart-remove-btn {
            background: #ff6600;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
        }
        .cart-remove-btn:hover, .cart-remove-btn:focus {
            background: #d43d00;
            transform: scale(1.1);
            outline: none;
        }
        .cart-summary-box {
            flex: 1;
            background: #fff;
            border-radius: 1.2rem;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            padding: 2rem 2rem 2rem 2rem;
            min-width: 320px;
            margin-top: 0.5rem;
        }
        .summary-title {
            font-size: 1.25rem;
            font-weight: 800;
            color: #222;
            margin-bottom: 1.2rem;
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.7rem;
            font-size: 1.05rem;
        }
        .summary-total {
            font-size: 1.18rem;
            font-weight: 800;
            color: #181818;
            margin-top: 1.2rem;
            margin-bottom: 1.2rem;
        }
        .summary-checkout-btn {
            width: 100%;
            background: #2563eb;
            color: #fff;
            border: none;
            border-radius: 2rem;
            padding: 0.9rem 0;
            font-size: 1.08rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
            margin-top: 1.5rem;
        }
        .summary-checkout-btn:hover, .summary-checkout-btn:focus {
            background: #1e40af;
            transform: scale(1.04);
            outline: none;
        }
        @media (max-width: 900px) {
            .cart-main-container {
                flex-direction: column;
                gap: 1.5rem;
                margin-top: 3rem;
            }
            .cart-summary-box {
                min-width: 0;
                width: 100%;
                margin-top: 0;
            }
        }
        @media (max-width: 600px) {
            .cart-section {
                margin-top: 3.2rem;
                padding: 1rem 0.5rem 1rem 0.5rem;
            }
            .cart-table th, .cart-table td {
                padding: 0.5rem 0.3rem;
            }
            .checkout-btn {
                width: 100%;
                float: none;
            }
        }
    </style>
    <link rel="stylesheet" href="alert-modal.css" />
</head>
<body>
     <nav class="hero-nav navbar-collapsed" role="navigation" aria-label="Primary navigation">
                <div class="logo" aria-label="KickStart logo">KickStart</div>
<ul id="nav-menu">
                    <li><a href="index.html" aria-current="page"><i class="fas fa-home"></i><span class="nav-text">Home</span></a></li>
                    <li><a href="shop.html"><i class="fas fa-store"></i><span class="nav-text">Shop</span></a></li>
                    <li><a href="collections.html"><i class="fas fa-th-large"></i><span class="nav-text">Collections</span></a></li>
                    <li class="dropdown">
                        <a href="#" aria-haspopup="true" aria-expanded="false"><i class="fas fa-shoe-prints"></i><span class="nav-text">AI</span> <i class="fas fa-caret-down"></i></a>
                        <ul class="dropdown-menu" aria-label="submenu">
                            <li><a href="ai-analyzer.html">AI Analyzer</a></li>
                            <li><a href="ai-style-recommender.html">AI Style Recommender</a></li>
                        </ul>
                    </li>
                    <li><a href="about.html"><i class="fas fa-info-circle"></i><span class="nav-text">About</span></a></li>
                    <li><a href="login.html" id="login-link"><i class="fas fa-user"></i><span class="nav-text">Login</span></a></li>
<li><a href="cart.html"><i class="fas fa-shopping-cart"></i><span class="nav-text">Cart</span> <span id="cart-count" style="background:#ff6600; color:#fff; border-radius:50%; padding:0 7px; font-size:0.8rem; font-weight:bold; vertical-align:top; margin-left:4px;">0</span></a></li>
                </ul>
            </nav>
    <main>
  <div class="cart-main-container">
    <section class="cart-section" aria-label="Shopping Cart">
      <h1 class="cart-title">Your Cart</h1>
      <table class="cart-table">
        <thead>
          <tr>
            <th colspan="2">Product</th>
            <th>Price</th>
            <th>Qty</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody id="cart-body"></tbody>
      </table>
    </section>
    <aside class="cart-summary-box">
      <div class="summary-title">Order Summary</div>
      <div class="summary-row">
        <span>Subtotal (<span id="summary-items">0</span> items)</span>
        <span id="summary-subtotal">₹0</span>
      </div>
      <div class="summary-row">
        <span>Shipping</span>
        <span id="summary-shipping">Free</span>
      </div>
      <div class="summary-row">
        <span>Tax</span>
        <span id="summary-tax">₹0</span>
      </div>
      <div class="summary-total">
        Total: <span id="cart-total">₹0</span>
      </div>
      <button class="summary-checkout-btn">Proceed to Checkout</button>
    </aside>
  </div>
</main>
    <footer>
        <p>&copy; 2025 KickStart. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- Include shared alert modal -->
    <div id="sharedAlertModalContainer"></div>
    <script src="alert-modal.js"></script>
<script>
    function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let count = cart.reduce((sum, item) => sum + (item.qty || 1), 0);
        const badge = document.getElementById('cart-count');
        if (badge) {
            badge.textContent = count;
            console.log("Cart count updated to:", count);
        }
    }

    function renderCartItems() {
        const cartBody = document.getElementById("cart-body");
        const cartTotal = document.getElementById("cart-total");
        const summaryItems = document.getElementById("summary-items");
        const summarySubtotal = document.getElementById("summary-subtotal");
        const summaryTax = document.getElementById("summary-tax");
        const cart = JSON.parse(localStorage.getItem("cart")) || [];

        cartBody.innerHTML = "";

        if (cart.length === 0) {
            cartBody.innerHTML =
                '<tr><td colspan="5" class="cart-empty">Your cart is empty.</td></tr>';
            cartTotal.textContent = "₹0";
            summaryItems.textContent = "0";
            summarySubtotal.textContent = "₹0";
            summaryTax.textContent = "₹0";
            return;
        }

        let total = 0;
        let itemCount = 0;

        cart.forEach((item, index) => {
            const row = document.createElement("tr");

            // Product image and info cell
            const imgCell = document.createElement("td");
            imgCell.colSpan = 1;
            const infoDiv = document.createElement("div");
            infoDiv.className = "cart-product-info";
            const img = document.createElement("img");
            img.src = item.image || "product-image.png";
            img.alt = item.name || "Product Image";
            img.className = "cart-img";
            infoDiv.appendChild(img);
            imgCell.appendChild(infoDiv);

            // Product name and brand
            const nameCell = document.createElement("td");
            nameCell.innerHTML = `<div class="cart-product-name">${item.name || "Unnamed Product"}</div>
                ${item.brand ? `<div class="cart-product-brand">${item.brand}</div>` : ""}`;
            infoDiv.appendChild(nameCell);

            row.appendChild(imgCell);

            // Price cell
            const priceCell = document.createElement("td");
            priceCell.textContent = `₹${item.price || 0}`;
            row.appendChild(priceCell);

            // Quantity cell
            const qtyCell = document.createElement("td");
            qtyCell.textContent = item.qty || 1;
            row.appendChild(qtyCell);

            // Remove button cell
            const removeCell = document.createElement("td");
            const removeBtn = document.createElement("button");
            removeBtn.className = "cart-remove-btn";
            removeBtn.innerHTML = "&times;";
            removeBtn.addEventListener("click", () => {
                removeCartItem(index);
            });
            removeCell.appendChild(removeBtn);
            row.appendChild(removeCell);

            cartBody.appendChild(row);

            total += (item.price || 0) * (item.qty || 1);
            itemCount += item.qty || 1;
        });

        cartTotal.textContent = `₹${total.toFixed(2)}`;
        summaryItems.textContent = itemCount;
        summarySubtotal.textContent = `₹${total.toFixed(2)}`;
        summaryTax.textContent = "₹0";
    }

    function removeCartItem(index) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart.splice(index, 1);
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCartItems();
        updateCartCount();
    }

    document.addEventListener('DOMContentLoaded', function() {
        updateCartCount();
        renderCartItems();

        const checkoutBtn = document.querySelector('.checkout-btn');
        if (checkoutBtn) {
            checkoutBtn.addEventListener('click', () => {
                // Redirect to payment page on checkout button click
                window.location.href = 'payment.html';
            });
        }
    });
</script>
</body>
</html>
